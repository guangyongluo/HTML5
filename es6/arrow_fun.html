<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>函数的扩展</title>
	</head>
	<body>
		<!-- 箭头函数 -->
		<script type="text/javascript">
			// function name(){}
			// 什么是箭头函数：使用=>定义的函数
			//  =>的左侧表示函数的参数，右侧表示函数体
			//  如果=>右侧只有一条语句，该条语句将作为return的参数

			var f = x => x;
			console.log(f(100))
			//  相当于
			var f1 = function(x) {
				return x;
			}
			//  如果箭头函数的参数没有，或有多个参数
			var f2 = () => 123;
			f2 = function() {
				return 123;
			}

			//  多个参数
			var f3 = (x, y, z) => x + y + z;
			console.log(f3(4, 5, 6));

			f3 = function(x, y, z) {
				return x + y + z;
			}

			var f4 = (x, y, z) => {
				let m = x + y;
				z = m * m;
				return z;
			}
			console.log(f4(1, 2, 3));

			// 箭头函数和变量结构结合使用
			var f5 = ({
				first,
				last
			}) => first + '.' + last;

			var person = {
				first: 'Bill',
				last: 'Gates'
			};
			console.log(f5(person));

			function f6(person) {
				return person.first + '.' + person.last;
			}
			console.log(f6(person));

			// 可以简化回调函数
			var arr1 = [1, 2, 3, 4, 5].map(
				function(x) {
					return x * x;
				}
			);
			console.log(arr1)

			var arr2 = [1, 2, 3, 4, 5].map(x => x * x)
			console.log(...arr2)

			var values = [5, 4, 2, 8, 3];
			var result1 = values.sort(function(a, b) {
				return a - b
			})
			console.log(...result1)
			var result2 = values.sort((a, b) => a - b);
			console.log(...result2)

			var fun = (...nums) => nums; // rest参数也可以用于箭头函数
			console.log(fun(1, 2, 3, 4, 5, 6))
			
			function insert(value) {
				return {into: function(array){
					return {after: function(afterValue){
						array.splice(array.indexOf(afterValue) + 1, 0, value);
						return array;
					}};
				}};
			}
			
			insert(2).into([1, 3]).after(1);
			
			let arr = [ , , ];
			console.log(arr.length);
			
			let array = [,'a','b', ,];
			console.log(array.length);
			
			console.log([, 'a'].find(x => true));
		</script>
	</body>
</html>
